(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Alpine=b())})(this,function(){'use strict';function a(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function b(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function c(c){for(var d,e=1;e<arguments.length;e++)d=null==arguments[e]?{}:arguments[e],e%2?b(Object(d),!0).forEach(function(b){a(c,b,d[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):b(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))});return c}function d(){return new Promise(a=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",a):a()})}function e(b){for(var c=b.concat(),a=0;a<c.length;++a)for(var d=a+1;d<c.length;++d)c[a]===c[d]&&c.splice(d--,1);return c}function f(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function g(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function h(a,b){if(!1!==b(a))for(let c=a.firstElementChild;c;)h(c,b),c=c.nextElementSibling}function i(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}}function j(a,b,c={}){return new Function(["$data",...Object.keys(c)],`var result; with($data) { result = ${a} }; return result`)(b,...Object.values(c))}function k(a,b,c={}){if(Object.keys(b).includes(a)){let d=new Function(["dataContext",...Object.keys(c)],`with(dataContext) { return ${a} }`)(b,...Object.values(c));if("function"==typeof d)return d.call(b,c.$event)}return new Function(["dataContext",...Object.keys(c)],`with(dataContext) { ${a} }`)(b,...Object.values(c))}function l(a){const b=o(a.name);return _.test(b)}function m(a,b){return Array.from(a.attributes).filter(l).map(a=>{const b=o(a.name),c=b.match(_),d=b.match(/:([a-zA-Z\-:]+)/),e=b.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:c?c[1]:null,value:d?d[1]:null,modifiers:e.map(a=>a.replace(".","")),expression:a.value}}).filter(a=>!b||a.type===b)}function n(a){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(a)}function o(a){return a.startsWith("@")?a.replace("@","x-on:"):a.startsWith(":")?a.replace(":","x-bind:"):a}function p(a,b,c=!1){if(c)return b();const d=m(a,"transition"),e=m(a,"show")[0];if(e&&e.modifiers.includes("transition")){let c=e.modifiers;if(c.includes("out")&&!c.includes("in"))return b();const d=c.includes("in")&&c.includes("out");c=d?c.filter((a,b)=>b<c.indexOf("out")):c,r(a,c,b)}else 0<d.length?v(a,d,b):b()}function q(a,b,c=!1){if(c)return b();const d=m(a,"transition"),e=m(a,"show")[0];if(e&&e.modifiers.includes("transition")){let c=e.modifiers;if(c.includes("in")&&!c.includes("out"))return b();const d=c.includes("in")&&c.includes("out");c=d?c.filter((a,b)=>b>c.indexOf("out")):c,s(a,c,d,b)}else 0<d.length?w(a,d,b):b()}function r(a,b,c){const d={duration:t(b,"duration",150),origin:t(b,"origin","center"),first:{opacity:0,scale:t(b,"scale",95)},second:{opacity:1,scale:100}};u(a,b,c,()=>{},d)}function s(a,b,c,d){const e=c?t(b,"duration",150):t(b,"duration",150)/2,f={duration:e,origin:t(b,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:t(b,"scale",95)}};u(a,b,()=>{},d,f)}function t(a,b,c){if(-1===a.indexOf(b))return c;const d=a[a.indexOf(b)+1];if(!d)return c;if("scale"===b&&!z(d))return c;if("duration"===b){let a=d.match(/([0-9]+)ms/);if(a)return a[1]}return"origin"===b&&["top","right","left","center","bottom"].includes(a[a.indexOf(b)+2])?[d,a[a.indexOf(b)+2]].join(" "):d}function u(a,b,c,d,e){const f=a.style.opacity,g=a.style.transform,h=a.style.transformOrigin,i=!b.includes("opacity")&&!b.includes("scale"),j=i||b.includes("opacity"),k=i||b.includes("scale"),l={start(){j&&(a.style.opacity=e.first.opacity),k&&(a.style.transform=`scale(${e.first.scale/100})`)},during(){k&&(a.style.transformOrigin=e.origin),a.style.transitionProperty=[j?`opacity`:``,k?`transform`:``].join(" ").trim(),a.style.transitionDuration=`${e.duration/1e3}s`,a.style.transitionTimingFunction=`cubic-bezier(0.4, 0.0, 0.2, 1)`},show(){c()},end(){j&&(a.style.opacity=e.second.opacity),k&&(a.style.transform=`scale(${e.second.scale/100})`)},hide(){d()},cleanup(){j&&(a.style.opacity=f),k&&(a.style.transform=g),k&&(a.style.transformOrigin=h),a.style.transitionProperty=null,a.style.transitionDuration=null,a.style.transitionTimingFunction=null}};y(a,l)}function v(a,b,c){const d=(b.find(a=>"enter"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a),e=(b.find(a=>"enter-start"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a),f=(b.find(a=>"enter-end"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a);x(a,d,e,f,c,()=>{})}function w(a,b,c){const d=(b.find(a=>"leave"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a),e=(b.find(a=>"leave-start"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a),f=(b.find(a=>"leave-end"===a.value)||{expression:""}).expression.split(" ").filter(a=>""!==a);x(a,d,e,f,()=>{},c)}function x(a,b,c,d,e,f){const g=a.__x_original_classes||[],h={start(){a.classList.add(...c)},during(){a.classList.add(...b)},show(){e()},end(){a.classList.remove(...c.filter(a=>!g.includes(a))),a.classList.add(...d)},hide(){f()},cleanup(){a.classList.remove(...b.filter(a=>!g.includes(a))),a.classList.remove(...d.filter(a=>!g.includes(a)))}};y(a,h)}function y(a,b){b.start(),b.during(),requestAnimationFrame(()=>{let c=1e3*+getComputedStyle(a).transitionDuration.replace(/,.*/,"").replace("s","");b.show(),requestAnimationFrame(()=>{b.end(),setTimeout(()=>{b.hide(),a.isConnected&&b.cleanup()},c)})})}function z(a){return!isNaN(a)}function A(a,b,c,d,e){"template"!==b.tagName.toLowerCase()&&console.warn("Alpine: [x-for] directive should only be added to <template> tags.");const{single:f,bunch:g,iterator1:h,iterator2:j}=B(c);var k;const l=m(b,"if")[0];k=l&&!a.evaluateReturnExpression(b,l.expression)?[]:a.evaluateReturnExpression(b,g,e);var n=b;k.forEach((c,e,g)=>{const i=C(a,b,f,h,j,c,e,g);let k=n.nextElementSibling;if(k&&void 0!==k.__x_for_key){if(k.__x_for_key!==i)for(var l=k;l;){if(l.__x_for_key===i){b.parentElement.insertBefore(l,k),k=l;break}l=!!(l.nextElementSibling&&void 0!==l.nextElementSibling.__x_for_key)&&l.nextElementSibling}delete k.__x_for_key;let d={};d[f]=c,h&&(d[h]=e),j&&(d[j]=g),k.__x_for=d,a.updateElements(k,()=>k.__x_for)}else{const i=document.importNode(b.content,!0);1!==i.childElementCount&&console.warn("Alpine: <template> tag with [x-for] encountered with multiple element roots. Make sure <template> only has a single child node."),b.parentElement.insertBefore(i,k),k=n.nextElementSibling,p(k,()=>{},d);let l={};l[f]=c,h&&(l[h]=e),j&&(l[j]=g),k.__x_for=l,a.initializeElements(k,()=>k.__x_for)}k.__x_for_key=i,n=k});for(var o=!!(n.nextElementSibling&&void 0!==n.nextElementSibling.__x_for_key)&&n.nextElementSibling;o;){const a=o,b=o.nextElementSibling;q(o,()=>{a.remove()}),o=!!(b&&void 0!==b.__x_for_key)&&b}}function B(a){const b=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,c=/^\(|\)$/g,d=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,e=a.match(d);if(!e)return;const f={bunch:e[2].trim()},g=e[1].trim().replace(c,""),h=g.match(b);return h?(f.single=g.replace(b,"").trim(),f.iterator1=h[1].trim(),h[2]&&(f.iterator2=h[2].trim())):f.single=g,f}function C(a,b,c,d,e,f,g,h){const i=m(b,"bind").filter(a=>"key"===a.value)[0];let j={[c]:f};return d&&(j[d]=g),e&&(j[e]=h),i?a.evaluateReturnExpression(b,i.expression,()=>j):g}function D(a,b,c,d,f){var g=a.evaluateReturnExpression(b,d,f);if("value"===c){if(void 0===g&&d.match(/\./).length&&(g=""),"radio"===b.type)b.checked=b.value==g;else if("checkbox"===b.type){if(Array.isArray(g)){let a=!1;g.forEach(c=>{c==b.value&&(a=!0)}),b.checked=a}else b.checked=!!g;"string"==typeof g&&(b.value=g)}else"SELECT"===b.tagName?E(b,g):b.value=g;}else if("class"!==c)n(c)?g?b.setAttribute(c,""):b.removeAttribute(c):b.setAttribute(c,g);else if(Array.isArray(g)){const a=b.__x_original_classes||[];b.setAttribute("class",e(a.concat(g)).join(" "))}else if("object"==typeof g)Object.keys(g).forEach(a=>{g[a]?a.split(" ").forEach(a=>b.classList.add(a)):a.split(" ").forEach(a=>b.classList.remove(a))});else{const a=b.__x_original_classes||[],c=g.split(" ");b.setAttribute("class",e(a.concat(c)).join(" "))}}function E(a,b){const c=[].concat(b).map(a=>a+"");Array.from(a.options).forEach(a=>{a.selected=c.includes(a.value||a.text)})}function F(a,b,c,d,e=!1){const f=()=>{b.style.display="none"},g=()=>{1===b.style.length&&"none"===b.style.display?b.removeAttribute("style"):b.style.removeProperty("display")};if(!0===e)return void(c?g():f());const h=a=>{c?(""!==b.style.display&&p(b,()=>{g()}),a(()=>{})):"none"===b.style.display?a(()=>{}):q(b,()=>{a(()=>{f()})})};return d.includes("immediate")?void h(a=>a()):void(a.showDirectiveLastElement&&!a.showDirectiveLastElement.contains(b)&&a.executeAndClearRemainingShowDirectiveStack(),a.showDirectiveStack.push(h),a.showDirectiveLastElement=b)}function G(a,b,c,d,e){"template"!==b.nodeName.toLowerCase()&&console.warn(`Alpine: [x-if] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#x-if`);const f=b.nextElementSibling&&!0===b.nextElementSibling.__x_inserted_me;if(c&&!f){const c=document.importNode(b.content,!0);b.parentElement.insertBefore(c,b.nextElementSibling),b.nextElementSibling.__x_inserted_me=!0,p(b.nextElementSibling,()=>{},d),a.initializeElements(b.nextElementSibling,e)}else!c&&f&&q(b.nextElementSibling,()=>{b.nextElementSibling.remove()},d)}function H(a,b,c,d,f,g={}){if(d.includes("away")){let h=i=>{b.contains(i.target)||1>b.offsetWidth&&1>b.offsetHeight||(I(a,f,i,g),d.includes("once")&&document.removeEventListener(c,h))};document.addEventListener(c,h)}else{let h=d.includes("window")?window:d.includes("document")?document:b,j=i=>{if((h===window||h===document)&&!document.body.contains(b))return void h.removeEventListener(c,j);if(!(J(c)&&K(i,d))){d.includes("prevent")&&i.preventDefault(),d.includes("stop")&&i.stopPropagation();const b=I(a,f,i,g);!1===b?i.preventDefault():d.includes("once")&&h.removeEventListener(c,j)}};if(d.includes("debounce")){let a=d[d.indexOf("debounce")+1]||"invalid-wait",b=z(a.split("ms")[0])?+a.split("ms")[0]:250;j=i(j,b)}h.addEventListener(c,j)}}function I(a,b,d,e){return a.evaluateCommandExpression(d.target,b,()=>c({},e(),{$event:d}))}function J(a){return["keydown","keyup"].includes(a)}function K(a,b){let c=b.filter(a=>!["window","document","prevent","stop"].includes(a));if(c.includes("debounce")){let a=c.indexOf("debounce");c.splice(a,z((c[a+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===c.length)return!1;if(1===c.length&&c[0]===L(a.key))return!1;const d=["ctrl","shift","alt","meta","cmd","super"].filter(a=>c.includes(a));if(c=c.filter(a=>!d.includes(a)),0<d.length){const b=d.filter(b=>(("cmd"===b||"super"===b)&&(b="meta"),a[`${b}Key`]));if(b.length===d.length&&c[0]===L(a.key))return!1}return!0}function L(a){return"/"===a?"slash":" "===a||"Spacebar"===a?"space":g(a)}function M(a,b,d,e,f){var g="select"===b.tagName.toLowerCase()||["checkbox","radio"].includes(b.type)||d.includes("lazy")?"change":"input";H(a,b,g,d,`${e} = rightSideOfExpression($event, ${e})`,()=>c({},f(),{rightSideOfExpression:N(b,d,e)}))}function N(a,b,c){return"radio"!==a.type||a.hasAttribute("name")||a.setAttribute("name",c),(c,d)=>{if(c instanceof CustomEvent&&c.detail)return c.detail;if("checkbox"===a.type)return Array.isArray(d)?c.target.checked?d.concat([c.target.value]):d.filter(a=>a!==c.target.value):c.target.checked;if("select"===a.tagName.toLowerCase()&&a.multiple)return b.includes("number")?Array.from(c.target.selectedOptions).map(a=>{const b=a.value||a.text,c=b?parseFloat(b):null;return isNaN(c)?b:c}):Array.from(c.target.selectedOptions).map(a=>a.value||a.text);else{const a=c.target.value,d=a?parseFloat(a):null;return b.includes("number")?isNaN(d)?a:d:b.includes("trim")?a.trim():a}}}function O(a){return void 0===a}function P(a){return"function"==typeof a}function Q(a){return"object"==typeof a}function R(a,b){oa.set(a,b)}function S(a,b){return a.valueIsObservable(b)?a.getProxy(b):b}function T(a){return ka.call(a,"value")&&(a.value=pa(a.value)),a}function U(a,b,c){const d=ma.call(ha(c),ia(c));d.forEach(d=>{let e=ga(c,d);e.configurable||(e=Y(a,e,S)),da(b,d,e)}),ja(b)}function V(a,b){return a.valueIsObservable(b)?a.getReadOnlyProxy(b):b}function W(a){let b;return aa(a)?b=[]:Q(a)&&(b={}),b}function X(a){if(null===a)return!1;if("object"!=typeof a)return!1;if(aa(a))return!0;const b=ba(a);return b===sa||null===b||null===ba(b)}function Y(a,b,c){const{set:d,get:e}=b;return ka.call(b,"value")?b.value=c(a,b.value):(!O(e)&&(b.get=function(){return c(a,e.call(pa(this)))}),!O(d)&&(b.set=function(b){d.call(pa(this),a.unwrapProxy(b))})),b}function Z(a,b){let c=new wa({valueMutated(a,c){b(a,c)}});return{data:c.getProxy(a),membrane:c}}function $(a,b){let c=a.unwrapProxy(b),d={};return Object.keys(c).forEach(a=>{["$el","$refs","$nextTick","$watch"].includes(a)||(d[a]=c[a])}),d}const _=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref)\b/,{isArray:aa}=Array,{getPrototypeOf:ba,create:ca,defineProperty:da,defineProperties:ea,isExtensible:fa,getOwnPropertyDescriptor:ga,getOwnPropertyNames:ha,getOwnPropertySymbols:ia,preventExtensions:ja,hasOwnProperty:ka}=Object,{push:la,concat:ma,map:na}=Array.prototype,oa=new WeakMap,pa=a=>oa.get(a)||a;class qa{constructor(a,b){this.originalTarget=b,this.membrane=a}get(a,b){const{originalTarget:c,membrane:d}=this,e=c[b],{valueObserved:f}=d;return f(c,b),d.getProxy(e)}set(a,b,c){const{originalTarget:d,membrane:{valueMutated:e}}=this,f=d[b];return f===c?"length"===b&&aa(d)&&e(d,b):(d[b]=c,e(d,b)),!0}deleteProperty(a,b){const{originalTarget:c,membrane:{valueMutated:d}}=this;return delete c[b],d(c,b),!0}apply(a,b,c){}construct(a,b,c){}has(a,b){const{originalTarget:c,membrane:{valueObserved:d}}=this;return d(c,b),b in c}ownKeys(a){const{originalTarget:b}=this;return ma.call(ha(b),ia(b))}isExtensible(a){const b=fa(a);if(!b)return b;const{originalTarget:c,membrane:d}=this,e=fa(c);return e||U(d,a,c),e}setPrototypeOf(a,b){}getPrototypeOf(a){const{originalTarget:b}=this;return ba(b)}getOwnPropertyDescriptor(a,b){const{originalTarget:c,membrane:d}=this,{valueObserved:e}=this.membrane;e(c,b);let f=ga(c,b);if(O(f))return f;const g=ga(a,b);return O(g)?(f=Y(d,f,S),f.configurable||da(a,b,f),f):g}preventExtensions(a){const{originalTarget:b,membrane:c}=this;return U(c,a,b),ja(b),!0}defineProperty(a,b,c){const{originalTarget:d,membrane:e}=this,{valueMutated:f}=e,{configurable:g}=c;if(ka.call(c,"writable")&&!ka.call(c,"value")){const a=ga(d,b);c.value=a.value}return da(d,b,T(c)),!1===g&&da(a,b,Y(e,c,S)),f(d,b),!0}}class ra{constructor(a,b){this.originalTarget=b,this.membrane=a}get(a,b){const{membrane:c,originalTarget:d}=this,e=d[b],{valueObserved:f}=c;return f(d,b),c.getReadOnlyProxy(e)}set(a,b,c){return!1}deleteProperty(a,b){return!1}apply(a,b,c){}construct(a,b,c){}has(a,b){const{originalTarget:c,membrane:{valueObserved:d}}=this;return d(c,b),b in c}ownKeys(a){const{originalTarget:b}=this;return ma.call(ha(b),ia(b))}setPrototypeOf(a,b){}getOwnPropertyDescriptor(a,b){const{originalTarget:c,membrane:d}=this,{valueObserved:e}=d;e(c,b);let f=ga(c,b);if(O(f))return f;const g=ga(a,b);return O(g)?(f=Y(d,f,V),ka.call(f,"set")&&(f.set=void 0),f.configurable||da(a,b,f),f):g}preventExtensions(a){return!1}defineProperty(a,b,c){return!1}}const sa=Object.prototype,ta=()=>{},ua=()=>{},va=a=>a;class wa{constructor(a){if(this.valueDistortion=va,this.valueMutated=ua,this.valueObserved=ta,this.valueIsObservable=X,this.objectGraph=new WeakMap,!O(a)){const{valueDistortion:b,valueMutated:c,valueObserved:d,valueIsObservable:e}=a;this.valueDistortion=P(b)?b:va,this.valueMutated=P(c)?c:ua,this.valueObserved=P(d)?d:ta,this.valueIsObservable=P(e)?e:X}}getProxy(a){const b=pa(a),c=this.valueDistortion(b);if(this.valueIsObservable(c)){const d=this.getReactiveState(b,c);return d.readOnly===a?a:d.reactive}return c}getReadOnlyProxy(a){a=pa(a);const b=this.valueDistortion(a);return this.valueIsObservable(b)?this.getReactiveState(a,b).readOnly:b}unwrapProxy(a){return pa(a)}getReactiveState(a,b){const{objectGraph:c}=this;let d=c.get(b);if(d)return d;const e=this;return d={get reactive(){const c=new qa(e,b),d=new Proxy(W(b),c);return R(d,a),da(this,"reactive",{value:d}),d},get readOnly(){const c=new ra(e,b),d=new Proxy(W(b),c);return R(d,a),da(this,"readOnly",{value:d}),d}},c.set(b,d),d}}class xa{constructor(a,b=null){this.$el=a;const c=this.$el.getAttribute("x-data"),d=""===c?"{}":c,e=this.$el.getAttribute("x-init");this.unobservedData=b?b:j(d,{});let{membrane:f,data:g}=this.wrapDataInObservable(this.unobservedData);this.$data=g,this.membrane=f,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=a=>{this.nextTickStack.push(a)},this.watchers={},this.unobservedData.$watch=(a,b)=>{this.watchers[a]||(this.watchers[a]=[]),this.watchers[a].push(b)},this.showDirectiveStack=[],this.showDirectiveLastElement;var h;e&&!b&&(this.pauseReactivity=!0,h=this.evaluateReturnExpression(this.$el,e),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),"function"==typeof h&&h.call(this.$data)}getUnobservedData(){return $(this.membrane,this.$data)}wrapDataInObservable(a){var b=this;let c=i(function(){b.updateElements(b.$el)},0);return Z(a,(a,d)=>{b.watchers[d]?b.watchers[d].forEach(b=>b(a[d])):Object.keys(b.watchers).filter(a=>a.includes(".")).forEach(c=>{let e=c.split(".");d!==e[e.length-1]||e.reduce((e,f)=>(Object.is(a,e)&&b.watchers[c].forEach(b=>b(a[d])),e[f]),b.getUnobservedData())}),b.pauseReactivity||c()})}walkAndSkipNestedComponents(a,b,c=()=>{}){h(a,a=>a.hasAttribute("x-data")&&!a.isSameNode(this.$el)?(a.__x||c(a),!1):b(a))}initializeElements(a,b=()=>{}){for(this.walkAndSkipNestedComponents(a,a=>void 0===a.__x_for_key&&void this.initializeElement(a,b),a=>{a.__x=new xa(a)}),this.executeAndClearRemainingShowDirectiveStack();0<this.nextTickStack.length;)this.nextTickStack.shift()()}initializeElement(a,b){a.hasAttribute("class")&&0<m(a).length&&(a.__x_original_classes=a.getAttribute("class").split(" ")),this.registerListeners(a,b),this.resolveBoundAttributes(a,!0,b)}updateElements(a,b=()=>{}){for(this.walkAndSkipNestedComponents(a,a=>!!(void 0===a.__x_for_key||a.isSameNode(this.$el))&&void this.updateElement(a,b),a=>{a.__x=new xa(a)}),this.executeAndClearRemainingShowDirectiveStack();0<this.nextTickStack.length;)this.nextTickStack.shift()()}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(a=>new Promise(b=>{a(a=>{b(a)})})).reduce((a,b)=>a.then(()=>b.then(a=>a())),Promise.resolve(()=>{})),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(a,b){this.resolveBoundAttributes(a,!1,b)}registerListeners(a,b){m(a).forEach(({type:c,value:d,modifiers:e,expression:f})=>{"on"===c?H(this,a,d,e,f,b):"model"===c?M(this,a,e,f,b):void 0})}resolveBoundAttributes(a,b=!1,c){let d=m(a);d.forEach(({type:e,value:f,modifiers:g,expression:h})=>{switch(e){case"model":D(this,a,"value",h,c);break;case"bind":if("template"===a.tagName.toLowerCase()&&"key"===f)return;D(this,a,f,h,c);break;case"text":var i=this.evaluateReturnExpression(a,h,c);void 0===i&&h.match(/\./).length&&(i=""),a.innerText=i;break;case"html":a.innerHTML=this.evaluateReturnExpression(a,h,c);break;case"show":var i=this.evaluateReturnExpression(a,h,c);F(this,a,i,g,b);break;case"if":if(0<d.filter(a=>"for"===a.type).length)return;var i=this.evaluateReturnExpression(a,h,c);G(this,a,i,b,c);break;case"for":A(this,a,h,b,c);break;case"cloak":a.removeAttribute("x-cloak");}})}evaluateReturnExpression(a,b,d=()=>{}){return j(b,this.$data,c({},d(),{$dispatch:this.getDispatchFunction(a)}))}evaluateCommandExpression(a,b,d=()=>{}){return k(b,this.$data,c({},d(),{$dispatch:this.getDispatchFunction(a)}))}getDispatchFunction(a){return(b,c={})=>{a.dispatchEvent(new CustomEvent(b,{detail:c,bubbles:!0}))}}listenForNewElementsToInitialize(){const a=this.$el,b=new MutationObserver(a=>{for(let b=0;b<a.length;b++){const c=a[b].target.closest("[x-data]");if(!(c&&c.isSameNode(this.$el)))return;if("attributes"===a[b].type&&"x-data"===a[b].attributeName){const c=j(a[b].target.getAttribute("x-data"),{});Object.keys(c).forEach(a=>{this.$data[a]!==c[a]&&(this.$data[a]=c[a])})}0<a[b].addedNodes.length&&a[b].addedNodes.forEach(a=>1!==a.nodeType||a.__x_inserted_me?void 0:a.matches("[x-data]")?void(a.__x=new xa(a)):void this.initializeElements(a))}});b.observe(a,{childList:!0,attributes:!0,subtree:!0})}getRefsProxy(){var a=this;return new Proxy({},{get(b,c){if("$isAlpineProxy"===c)return!0;var d;return a.walkAndSkipNestedComponents(a.$el,a=>{a.hasAttribute("x-ref")&&a.getAttribute("x-ref")===c&&(d=a)}),d}})}}const ya={start:async function(){f()||(await d()),this.discoverComponents(a=>{this.initializeComponent(a)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(a=>{this.initializeComponent(a)})}),this.listenForNewUninitializedComponentsAtRunTime(a=>{this.initializeComponent(a)})},discoverComponents:function(a){const b=document.querySelectorAll("[x-data]");b.forEach(b=>{a(b)})},discoverUninitializedComponents:function(a,b=null){const c=(b||document).querySelectorAll("[x-data]");Array.from(c).filter(a=>void 0===a.__x).forEach(b=>{a(b)})},listenForNewUninitializedComponentsAtRunTime:function(){const a=document.querySelector("body"),b=new MutationObserver(a=>{for(let b=0;b<a.length;b++)0<a[b].addedNodes.length&&a[b].addedNodes.forEach(a=>{1!==a.nodeType||a.parentElement&&a.parentElement.closest("[x-data]")||this.discoverUninitializedComponents(a=>{this.initializeComponent(a)},a.parentElement)})});b.observe(a,{childList:!0,attributes:!0,subtree:!0})},initializeComponent:function(a){a.__x||(a.__x=new xa(a))},clone:function(a,b){b.__x||(b.__x=new xa(b,a.getUnobservedData()))}};return f()||(window.Alpine=ya,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),ya});
